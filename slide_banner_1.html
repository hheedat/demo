<!DOCTYPE html>
<html>
<head>
	<title>slide_banner_1</title>
	<style>
		body, ul, ol, dl, dd, h1, h2, h3, h4, h5, h6, pre, form, fieldset, legend, input, button, textarea, p, blockquote, th, td{margin:0;padding:0;}
		body{font:12px/1.5 Arial,SimSun,Tahoma,Microsoft YaHei;}
		ul,ol{list-style:none;}
		fieldset, img{border:none;}
		em{font-style:normal;}
		img, object, select, input, textarea, button{outline:0;vertical-align:middle;}
		button{border:none;cursor:pointer;}
		table{border-collapse:collapse;border-spacing:0;table-layout:fixed;}
		caption, th{text-align:left;}
		q:before, q:after{content:'';}
		ins, s, u, del{text-decoration:none;}
		a{text-decoration:none;cursor:pointer;}
		a:hover{text-decoration:underline;}
		::selection{background-color:#39f;color:#fff;}
		::-moz-selection{background-color:#39f;color:#fff;}
		article, aside, dialog, footer, header, section, footer, nav, figure, hgroup{display:block;margin:0;padding:0;}
			</style>
	<style>
		#slide-banner{
			position: relative;
			width:75%;
			height:300px;
			margin:0 auto;
			/*background: gray;*/
		}
		#slide-banner-1{
			position: relative;
			width:85%;
			height:300px;
			margin:0 auto;
			/*background: gray;*/
		}
		.slide-img-wrapper{
			position: relative;
			overflow: hidden;
			width: 100%;
			height: 270px;
		}
		.slide-img-wrapper a{
			position: absolute;
			display: block;
			width:640px;
			height:270px;
			left: 10000px;
			/*visibility: hidden;*/
		}
		.slide-img-wrapper img{
			display: block;
			width: 100%;
			height: 100%;
		}
		.slide-ctrl-arrow{
			cursor: pointer;
			background: url(http://p9.qhimg.com/d/inn/1bba4a9f/dd.png) no-repeat 6px 9px;
			position: absolute;
			top: 50%;
			margin-top: -40px;
			width: 41px;
			height: 81px;
			z-index: 1001;
		}
		.slide-left-arrow{
			left: 5px;
		}
		.slide-right-arrow{
			right: 5px;
			background-position: -35px 9px;
		}
		.slide-ctrl-dot-wrapper{
			position: absolute;
			height: 30px;
			width: 100%;
			bottom: 0px;
		}
		.slide-ctrl-dots{
			position:absolute;
			height: 30px;
			left: 50%;
			margin-left: -7%;
		}
		.ctrl-dot{
			cursor: pointer;
			float: left;
			width: 14px;
			height: 14px;
			margin-right: 10px;
			margin-top: 8px;
			border-radius: 7px;
			background-color: #c3c3c3;
		}
		.ctrl-dot:hover{
			background-color: #aaa;
		}
		.ctrl-bot-this{
			background-color: orange;
		}
		.ctrl-bot-this:hover{
			background-color: orange;
		}

	</style>
</head>
<body>
	<div id="slide-banner">
		<div class="slide-img-wrapper">
			<a href=""><img src="http://p3.qhimg.com/t018dfeb89972d385aa.jpg" alt="h"></a>
			<a href=""><img src="http://p3.qhimg.com/t01c75f942add7c9f2d.png" alt="h"></a>
			<a href=""><img src="http://p5.qhimg.com/t010551c78ee9877daa.jpg" alt="h"></a>
			<a href=""><img src="http://p5.qhimg.com/t016ad521245e9ad4d1.jpg" alt="h"></a>
			<a href=""><img src="http://p1.qhimg.com/t01d40d2a0e9a8ac4cb.jpg" alt="h"></a>
			<a href=""><img src="http://p7.qhimg.com/t01ca4ea4917896f5d7.png" alt="h"></a>
			<a href=""><img src="http://p4.qhimg.com/t010a388c43ce8d6c11.jpg" alt="h"></a>
			<div class="slide-ctrl-arrow-wrapper">
				<div class="slide-left-arrow slide-ctrl-arrow"></div>
				<div class="slide-right-arrow slide-ctrl-arrow"></div>
			</div>
		</div>
		<div class="slide-ctrl-dot-wrapper">
			<div class="slide-ctrl-dots">
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
			</div>
		</div>
	</div>

	<div id="slide-banner-1">
		<div class="slide-img-wrapper">
			<a href=""><img src="http://p3.qhimg.com/t018dfeb89972d385aa.jpg" alt="h"></a>
			<a href=""><img src="http://p3.qhimg.com/t01c75f942add7c9f2d.png" alt="h"></a>
			<a href=""><img src="http://p5.qhimg.com/t010551c78ee9877daa.jpg" alt="h"></a>
			<a href=""><img src="http://p5.qhimg.com/t016ad521245e9ad4d1.jpg" alt="h"></a>
			<a href=""><img src="http://p1.qhimg.com/t01d40d2a0e9a8ac4cb.jpg" alt="h"></a>
			<a href=""><img src="http://p7.qhimg.com/t01ca4ea4917896f5d7.png" alt="h"></a>
			<a href=""><img src="http://p4.qhimg.com/t010a388c43ce8d6c11.jpg" alt="h"></a>
			<div class="slide-ctrl-arrow-wrapper">
				<div class="slide-left-arrow slide-ctrl-arrow"></div>
				<div class="slide-right-arrow slide-ctrl-arrow"></div>
			</div>
		</div>
		<div class="slide-ctrl-dot-wrapper">
			<div class="slide-ctrl-dots">
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
			</div>
		</div>
	</div>
	<script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.10.0.min.js"></script>
	<script>
		$(function(){			

			function Slide(id){
				this.$slideCon = $(id+" .slide-img-wrapper a");
				this.$ctrlDots = $(id+" .ctrl-dot"); 
				this.$ctrlLeftArrow = $(id+" .slide-left-arrow");
				this.$ctrlRightArrow = $(id+" .slide-right-arrow");
				this.ctrlDotsAll = $(id+" .slide-ctrl-dots");
				this.ctrlDotsAllWidth = $(id+" .slide-ctrl-dots").width();
				this.pageNum = this.$slideCon.length;
				this.bannerWidth = $(id).width();
				this.bannerHeight = $(id).height();
				this.imgWrapperWidth = $(id+" .slide-img-wrapper").width();
				this.imgWrapperHeight = $(id+" .slide-img-wrapper").height();
				this.imgWidth = $(id+" .slide-img-wrapper a").eq(0).width();
				this.imgHeight = $(id+" .slide-img-wrapper a").eq(0).height();
				this.scale = 0.8;
				this.scaleOut = 0.5;
				this.leftOutCss = {
					height:this.imgHeight*this.scaleOut + "px",
					width:this.imgWidth*this.scaleOut + "px",
					top:(this.imgWrapperHeight-this.imgHeight*this.scaleOut)/2 + "px",
					left:-this.imgWidth + "px"
				};
				this.leftCss = {
					height:this.imgHeight*this.scale + "px",
					width:this.imgWidth*this.scale + "px",
					top:(this.imgWrapperHeight-this.imgHeight*this.scale)/2 + "px",
					left:"0px"
				},
				this.middleCss = {
					height:this.imgHeight + "px",
					width:this.imgWidth + "px",
					top:"0px",
					left:(this.imgWrapperWidth-this.imgWidth)/2 + "px"
				};
				this.rightCss = {
					height:this.imgHeight*this.scale +"px",
					width:this.imgWidth*this.scale +"px",
					top:(this.imgWrapperHeight-this.imgHeight*this.scale)/2 +"px",
					left:(this.imgWrapperWidth-this.imgWidth*this.scale)+"px"
				};
				this.rightOutCss = {
					height:this.imgHeight*this.scaleOut + "px",
					width:this.imgWidth*this.scaleOut + "px",
					top:(this.imgWrapperHeight-this.imgHeight*this.scaleOut)/2 + "px",
					left:this.imgWrapperWidth + "px"
				};
			}

			Slide.prototype = {
				init:function(){
					var self = this;
					this.pageNow = 0;
					this.timer = null;
					this.timeout = 2000;
					this.ctrlDotsAll.css({"margin-left":-this.ctrlDotsAllWidth/2 +"px"});
					this.$slideCon.eq(this.pageNow).css(this.middleCss).css({"z-index":1000,"visibility":"visible"});
					this.$slideCon.eq(this.nextPage(this.pageNow)).css(this.rightCss).css({"z-index":999,"visibility":"visible"});
					this.$slideCon.eq(this.prevPage(this.pageNow)).css(this.leftCss).css({"z-index":998,"visibility":"visible"});
					this.$slideCon.eq(this.nextPage(this.nextPage(this.pageNow))).css(this.rightOutCss).css({"z-index":997,"visibility":"visible"});
					this.$slideCon.eq(this.prevPage(this.prevPage(this.pageNow))).css(this.leftOutCss).css({"z-index":996,"visibility":"visible"});
					this.$ctrlDots.eq(this.pageNow).addClass("ctrl-bot-this");					
					this.$ctrlRightArrow.on("click",function(){
						self.slideLeft();
						if(self.timer){clearInterval(self.timer)};
						self.autoSlide();
					});
					this.$ctrlLeftArrow.on("click",function(){
						self.slideRight();
						if(self.timer){clearInterval(self.timer)};
						self.autoSlide();
					});
					for(var i = 0 , len = this.pageNum ; i < len ; i++){
						this.$ctrlDots.eq(i).data("indexNum",i);
					}
					this.$ctrlDots.on("click",function(event){
						var indexNum = $(event.target).data("indexNum");
						console.log("data : " + indexNum);
						if(self.pageNow == indexNum){

						}else if(self.nextPage(self.pageNow) == indexNum){
							self.slideLeft();
						}else if(self.prevPage(self.pageNow) == indexNum){
							self.slideRight();
						}else{
							self.pageNow = indexNum;
							self.$slideCon.css("z-index",function(i,curval){
							return curval-1;
							});
							self.$slideCon.animate({
								height:self.imgHeight*self.scaleOut + "px",
								width:self.imgWidth*self.scaleOut + "px",
								top:(self.imgWrapperHeight-self.imgHeight*self.scaleOut)/2 + "px"
							},{
								duration:"fast"
							});
							self.slide(self.pageNow);
						}
						if(self.timer){clearInterval(self.timer)};
						self.autoSlide();
					});
					this.autoSlide();
				},
				autoSlide:function(){
					var self = this;
					this.timer = setInterval(function() {
						self.slideLeft();
					}, this.timeout);
				},
				nextPage:function(pageNow){
					if(pageNow<this.pageNum-1){
						return pageNow+1;
					}else if(pageNow===this.pageNum-1){
						return 0;
					}
				},
				prevPage:function(pageNow){
					if(pageNow>0){
						return pageNow-1;
					}else if(pageNow===0){
						return this.pageNum-1;
					}
				},
				slide:function(thisPage){
					this.$slideCon.eq(thisPage).css({"z-index":1000,"visibility":"visible"}).animate(this.middleCss);
					this.$slideCon.eq(this.nextPage(thisPage)).css({"z-index":999,"visibility":"visible"}).animate(this.rightCss);
					this.$slideCon.eq(this.prevPage(thisPage)).css({"z-index":998,"visibility":"visible"}).animate(this.leftCss);
					this.$slideCon.eq(this.nextPage(this.nextPage(thisPage))).css({"z-index":997,"visibility":"visible"}).animate(this.rightOutCss);
					this.$slideCon.eq(this.prevPage(this.prevPage(thisPage))).css({"z-index":996,"visibility":"visible"}).animate(this.leftOutCss);
					this.$ctrlDots.removeClass("ctrl-bot-this");
					this.$ctrlDots.eq(thisPage).addClass("ctrl-bot-this");
				},
				slideLeft:function(){
					if(this.pageNow<this.pageNum-1){
						++this.pageNow;
					}else{
						this.pageNow = 0;
					}
					this.slide(this.pageNow);
				},
				slideRight:function(){
					if(this.pageNow>0){
						--this.pageNow;
					}else{
						this.pageNow = this.pageNum-1;
					}
					this.slide(this.pageNow);
				}
			}

			var slide  = new Slide("#slide-banner");

			slide.init();

			var slide1 = new Slide("#slide-banner-1");

			slide1.init();

		});
	</script>
</body>
</html>
















