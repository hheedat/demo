<!DOCTYPE html>
<html>
<head>
	<title>slide_banner_1</title>
	<style>
		body, ul, ol, dl, dd, h1, h2, h3, h4, h5, h6, pre, form, fieldset, legend, input, button, textarea, p, blockquote, th, td{margin:0;padding:0;}
		body{font:12px/1.5 Arial,SimSun,Tahoma,Microsoft YaHei;}
		ul,ol{list-style:none;}
		fieldset, img{border:none;}
		em{font-style:normal;}
		img, object, select, input, textarea, button{outline:0;vertical-align:middle;}
		button{border:none;cursor:pointer;}
		table{border-collapse:collapse;border-spacing:0;table-layout:fixed;}
		caption, th{text-align:left;}
		q:before, q:after{content:'';}
		ins, s, u, del{text-decoration:none;}
		a{text-decoration:none;cursor:pointer;}
		a:hover{text-decoration:underline;}
		::selection{background-color:#39f;color:#fff;}
		::-moz-selection{background-color:#39f;color:#fff;}
		article, aside, dialog, footer, header, section, footer, nav, figure, hgroup{display:block;margin:0;padding:0;}
			</style>
	<style>
		#slide-banner{
			position: relative;
			width:80%;
			height:300px;
			margin:0 auto;
			/*background: gray;*/
		}
		.slide-img-wrapper{
			position: relative;
			overflow: hidden;
			width: 100%;
			height: 270px;
		}
		.slide-img-wrapper a{
			position: absolute;
			display: block;
			width:640px;
			height:270px;
			left: 10000px;
			/*visibility: hidden;*/
		}
		.slide-img-wrapper img{
			display: block;
			width: 100%;
			height: 100%;
		}
		.slide-ctrl-arrow{
			cursor: pointer;
			background: url(http://p9.qhimg.com/d/inn/1bba4a9f/dd.png) no-repeat 6px 9px;
			position: absolute;
			top: 50%;
			margin-top: -40px;
			width: 41px;
			height: 81px;
			z-index: 1001;
		}
		.slide-left-arrow{
			left: 5px;
		}
		.slide-right-arrow{
			right: 5px;
			background-position: -35px 9px;
		}
		.slide-ctrl-dot-wrapper{
			position: absolute;
			height: 30px;
			width: 100%;
			bottom: 0px;
		}
		.slide-ctrl-dots{
			position:absolute;
			height: 30px;
			left: 50%;
			margin-left: -7%;
		}
		.ctrl-dot{
			cursor: pointer;
			float: left;
			width: 14px;
			height: 14px;
			margin-right: 10px;
			margin-top: 8px;
			border-radius: 7px;
			background-color: #c3c3c3;
		}
		.ctrl-dot:hover{
			background-color: #aaa;
		}

	</style>
</head>
<body>
	<div id="slide-banner">
		<div class="slide-img-wrapper">
			<a href=""><img src="http://p3.qhimg.com/t018dfeb89972d385aa.jpg" alt="h"></a>
			<a href=""><img src="http://p3.qhimg.com/t018dfeb89972d385aa.jpg" alt="h"></a>
			<a href=""><img src="http://p3.qhimg.com/t018dfeb89972d385aa.jpg" alt="h"></a>
			<a href=""><img src="http://p3.qhimg.com/t018dfeb89972d385aa.jpg" alt="h"></a>
			<a href=""><img src="http://p3.qhimg.com/t018dfeb89972d385aa.jpg" alt="h"></a>
			<a href=""><img src="http://p3.qhimg.com/t018dfeb89972d385aa.jpg" alt="h"></a>
			<a href=""><img src="http://p3.qhimg.com/t018dfeb89972d385aa.jpg" alt="h"></a>
			<div class="slide-ctrl-arrow-wrapper">
				<div class="slide-left-arrow slide-ctrl-arrow"></div>
				<div class="slide-right-arrow slide-ctrl-arrow"></div>
			</div>
		</div>
		<div class="slide-ctrl-dot-wrapper">
			<div class="slide-ctrl-dots">
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
				<div class="ctrl-dot"></div>
			</div>
		</div>
	</div>
	<script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.10.0.min.js"></script>
	<script>
		$(function(){			

			function Slide(id){
				this.$slideCon = $(".slide-img-wrapper a");
				this.ctrlDots = $(".slide-ctrl-dots");
				this.ctrlDotsWidth = $(".slide-ctrl-dots").width();
				this.pageNum = this.$slideCon.length;
				this.bannerWidth = $(id).width();
				this.bannerHeight = $(id).height();
				this.imgWrapperWidth = $(".slide-img-wrapper").width();
				this.imgWrapperHeight = $(".slide-img-wrapper").height();
				this.imgWidth = $(".slide-img-wrapper a").eq(0).width();
				this.imgHeight = $(".slide-img-wrapper a").eq(0).height();
				this.scale = 0.8;
				this.scaleOut = 0.5;
				this.leftOutCss = {
					height:this.imgHeight*this.scaleOut + "px",
					width:this.imgWidth*this.scaleOut + "px",
					top:(this.imgWrapperHeight-this.imgHeight*this.scaleOut)/2 + "px",
					left:-this.imgWidth + "px"
				};
				this.leftCss = {
					height:this.imgHeight*this.scale + "px",
					width:this.imgWidth*this.scale + "px",
					top:(this.imgWrapperHeight-this.imgHeight*this.scale)/2 + "px",
					left:"0px"
				},
				this.middleCss = {
					height:this.imgHeight + "px",
					width:this.imgWidth + "px",
					top:"0px",
					left:(this.imgWrapperWidth-this.imgWidth)/2 + "px"
				};
				this.rightCss = {
					height:this.imgHeight*this.scale +"px",
					width:this.imgWidth*this.scale +"px",
					top:(this.imgWrapperHeight-this.imgHeight*this.scale)/2 +"px",
					left:(this.imgWrapperWidth-this.imgWidth*this.scale)+"px"
				};
				this.rightOutCss = {
					height:this.imgHeight*this.scaleOut + "px",
					width:this.imgWidth*this.scaleOut + "px",
					top:(this.imgWrapperHeight-this.imgHeight*this.scaleOut)/2 + "px",
					left:this.imgWrapperWidth + "px"
				};
			}

			Slide.prototype = {
				init:function(){
					this.pageNow = 0;
					this.ctrlDots.css({"margin-left":-this.ctrlDotsWidth/2 +"px"});
					this.$slideCon.eq(this.pageNow).css(this.middleCss).css({"z-index":1000,"visibility":"visible"});
					this.$slideCon.eq(this.nextPage(this.pageNow)).css(this.rightCss).css({"z-index":999,"visibility":"visible"});
					this.$slideCon.eq(this.prevPage(this.pageNow)).css(this.leftCss).css({"z-index":998,"visibility":"visible"});
					this.$slideCon.eq(this.nextPage(this.nextPage(this.pageNow))).css(this.rightOutCss).css({"z-index":997,"visibility":"visible"});
					this.$slideCon.eq(this.prevPage(this.prevPage(this.pageNow))).css(this.leftOutCss).css({"z-index":996,"visibility":"visible"});
					this.timeout = 2000;
					this.autoSlide();
					this.timerFlag = true;
				},
				autoSlide:function(){
					var self = this;
					setTimeout(function() {
						if(self.pageNow<self.pageNum-1){
							++self.pageNow;
						}else{
							self.pageNow = 0;
						}
						self.$slideCon.eq(self.pageNow).css({"z-index":1000,"visibility":"visible"}).animate(self.middleCss);
						self.$slideCon.eq(self.nextPage(self.pageNow)).css({"z-index":999,"visibility":"visible"}).animate(self.rightCss);
						self.$slideCon.eq(self.prevPage(self.pageNow)).css({"z-index":998,"visibility":"visible"}).animate(self.leftCss);
						self.$slideCon.eq(self.nextPage(self.nextPage(self.pageNow))).css({"z-index":997,"visibility":"visible"}).animate(self.rightOutCss);
						self.$slideCon.eq(self.prevPage(self.prevPage(self.pageNow))).css({"z-index":996,"visibility":"visible"}).animate(self.leftOutCss);
						if(self.timerFlag){
							self.autoSlide();
						}
					}, this.timeout);
				},
				nextPage:function(pageNow){
					if(pageNow<this.pageNum-1){
						return pageNow+1;
					}else if(pageNow===this.pageNum-1){
						return 0;
					}
				},
				prevPage:function(pageNow){
					if(pageNow>0){
						return pageNow-1;
					}else if(pageNow===0){
						return this.pageNum-1;
					}
				}
			}

			var slide  = new Slide("#slide-banner");

			slide.init();

			console.log(slide.leftCss);
			console.log(slide.middleCss);

		});
	</script>
</body>
</html>
















